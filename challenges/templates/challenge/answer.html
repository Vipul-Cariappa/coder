{% extends "base.html" %} {% load static %} {% block header %}
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css"
  rel="stylesheet"
/>
<link
  href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/monokai.min.css"
  rel="stylesheet"
/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/closebrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/edit/matchbrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/selection/active-line.min.js"></script>

{% endblock header %} {% block content %}
<div class="container">
  <div class="container">
    <div class="container">
      <div class="box">
        <h1>{{ question.title }}</h1>
        <p>{{ question.questionHTML|safe}}</p>
        <textarea
          name="test_case"
          cols="40"
          rows="10"
          required
          id="id_test_case"
        ></textarea>
        <form method="post">
          {% csrf_token %} {{ form.as_p }}
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  var a_editor = new CodeMirror.fromTextArea(
    document.getElementById("id_answer"),
    {
      lineNumbers: true,
      mode: "python",
      theme: "monokai",
      indentUnit: 4,
      indentWithTabs: false,
      lineWrapping: true,
      matchBrackets: true,
      autoCloseBrackets: true,
      styleActiveLine: true,
    }
  );

  var tc_editor = new CodeMirror.fromTextArea(
    document.getElementById("id_test_case"),
    {
      lineNumbers: true,
      mode: "python",
      theme: "monokai",
      indentUnit: 4,
      indentWithTabs: false,
      lineWrapping: true,
      matchBrackets: true,
      autoCloseBrackets: true,
      styleActiveLine: false,
      readOnly: true,
    }
  );

  const test_case_string = "{{ question.test_case}}\nreturn false";
  tc_editor.setValue(test_case_string);
</script>
{% endblock content %}
